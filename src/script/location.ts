import { Square } from './square.js';

// Location = square unique ID
export type Location = number;

// Map of location*:
// *[] = dark square
//
// +----+----+----+----+----+----+----+----+
// | 81 |[82]| 83 |[84]| 85 |[86]| 87 |[88]| 8 
// +----+----+----+----+----+----+----+----+
// |[71]| 72 |[73]| 74 |[75]| 76 |[77]| 78 | 7
// +----+----+----+----+----+----+----+----+
// | 61 |[62]| 63 |[64]| 65 |[66]| 67 |[68]| 6
// +----+----+----+----+----+----+----+----+
// |[51]| 52 |[53]| 54 |[55]| 56 |[57]| 58 | 5
// +----+----+----+----+----+----+----+----+
// | 41 |[42]| 43 |[44]| 45 |[46]| 47 |[48]| 4
// +----+----+----+----+----+----+----+----+
// |[31]| 32 |[33]| 34 |[35]| 36 |[37]| 38 | 3
// +----+----+----+----+----+----+----+----+
// | 21 |[22]| 23 |[24]| 25 |[26]| 27 |[28]| 2
// +----+----+----+----+----+----+----+----+
// |[11]| 12 |[13]| 14 |[15]| 16 |[17]| 18 | 1
// +----+----+----+----+----+----+----+----+
//     a    b    c    d    e    f    g    h     

export function of(square: Square): Location {
    return 10*square.rank + square.file;
}

export function square(location: Location): Square {
    let rank = Math.trunc(location/10);
    return {rank: rank, file: location - 10*rank};
}
